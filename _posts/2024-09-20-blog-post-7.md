---
title: '计算机网络课堂笔记1-概论'
date: 2024-09-20
permalink: /posts/2024/09/blog-post-7/
tags:
  - 计算机网络
  - category1
  - category2
---
她是我暗淡可怕的洞穴中的一扇小窗，一簇微光。她是我的救主，是通往自由的路。她必定会教我生，或教我死。她
必定以她坚定而美丽的双手触摸我僵硬的心，使它在生命的触摸下，要么开花，要么化为灰烬。

---
# 第一章: 概论

5-6分

计算机网络由若干个结点(node, 或译为节点)和连接这些节点的链路(link)组成.

**三网**: 电信网络、有线电视网络、计算机网络

互联网的两个重要特点: 连通性(connectivity)和共享(sharing)

交换(Switching): 数据在网络节点之间转接的过程(A→B→C)



要求区别一下

internet 是一个通用名词, 指的是互连网, 泛指多个计算机网络互连而成的计算机网络. 这些网络之间可以使用任意的通信协议作为通信规则, 不一定非要使用TCP/IP协议

Internet 是一个专用名词, 指的是互联网或因特网, 是一个专用名词, 它指全球最大的、开放的、由众多互联网连接而成的特定互连网, 它采用TCP\IP协议族作为通信的规则, 其前身是美国的APPANET



# 计算机网络的组成

## 从组成部分来看

计算机网络由硬件、软件、协议三大部分组成

硬件主要由主机(端系统)、 通信链路(如双绞线、光纤)、交换设备(如路由器、交换机等)和通信处理机(如网卡)等组成.

软件由用户使用的各种工具软件

协议是计算机网络的核心

## 从工作方式来看

Internet 可分为边缘部分和核心部分

### 边缘部分

由所有连接在互联网上的主机组成. 这部分是用户直接使用的, 用来通信和资源共享

处在互联网边缘部分的部分就是连接在互联网上的所有主机. 这些主机被称为端系统(end system).

**1、客户-服务器方式**

客户(client)和服务器(server)指的是通信中涉及到的两个应用进程, 客户是服务请求方, 服务器是服务提供方

客户软件的特点

1. 客户程序必须知道服务器程序的地址
2. 不需要特殊的硬件和很复杂的操作系统

服务器程序的特点

1. 可以同时处理多个远地或本地客户的请求
2. 系统启动后一直不断运行着, 被动地等待并接受来自各地的客户的通信请求. 服务器程序不需要知道客户程序的地址
3. 需要强大的硬件和高级的操作系统支持

**2、对等连接方式**

对等连接(peer-to-peer), 不区分哪一个是服务请求方和哪一个是服务提供方

本质上仍然使用客户-服务器方式, 只是对等连接中的每一台主机既是客户也是服务器

### 核心部分

在网络核心部分起特殊作用的是路由器, 是实现分组交换的关键部件, 其任务是转发接收到的分组

## 从组成功能来看

计算机网络由通信子网和资源子网组成.

通信子网由各种传输介质、通信设备和相应的网络协议组成, 它使网络具有数据传输、交换、控制和存储的能力, 实现联网计算机之间的数据通信

资源子网是实现资源共享功能的设备及其软件的集合, 向网络用户提供其他计算机上的硬件资源、软件资源和数据资源的服务

# 计算机网络的类别

## 按照网络的作用范围进行分类

### 1、广域网 WAN(Wide Area Network)

作用范围是几十到几千公里. 广域网是互联网的核心部分

### 2、城域网 MAN(Metropolitan Area Network)

作用范围一般是一个城市, 作用距离约为5~50km, 多为采用以太网技术

### 3、局域网 LAN(Local Area Network)

作用范围一般是1km左右, 一般用于微型计算机和工作站通过高速通行线路相连. 学校和企业大多拥有许多互连的局域网(校园网或企业网)

### 4、个人区域网 PAN(Personal Area Network)

个人工作的地方把属于个人使用的电子设备用无线技术连接起来的网络, 也被称为无线个人区域网WPAN(Wireless PAN), 作用范围小,大约在10m左右.

## 按照网络的使用者进行分类

### 1、共用网(public network)

电信公司出资建造的大型网络, 也被称为公众网

### 2、专用网(private network)

某个部门为满足本单元特殊业务工作的需要而建造的网络. 不为本单位外的人提供服务

# 常用交换方式

### 1、电路交换(Circuit Switching)

电路交换分三步: 建立连接(占用通信资源)→数据传输(一直占用通信资源)→连接释放(归还通信资源)

1. 电路交换必为面向连接的, 面向连接却不一定是电路交换(分组交换也可以使用面向连接方式). 建立连接的时间太长了, 建立连接是传输数据的几千倍
2. 在通话的全部时间内, 通话的两用户始终占有端到端的通信资源. 信道独占
3. 无存储转发过程. 信号会失真

<div style="text-align: center;">
    <img src="/images/2024-09-20/image.png" width="60%" alt="">
</div>

### 2、报文交换(Message Switching)

数据交换的单位是报文, 用户数据加上源地址、目的地址等信息后, 封装为报文, 报文交换采用存储转发技术, 整个报文先传送到相邻的节点, 全部存储之后查找转发表, 转发到下一个结点, 如此重复直到达到目的结点

1. 报文交换无连接, 通信前无须建立连接, 没有建立连接时延, 用户可随时发送报文
2. 采用存储转发技术,
3. 报文独立路由
4. 报文大小无上限

缺点

1. 转发时延高, 交换节点要将报文整体接受完之后, 才能查找转发到下一个结点
2. 缓存开销大, 报文大大小没限制, 这就要求交换结点有更大的缓存空间
3. 错误处理低效, 报文较长时, 发生错误的概率相对更大, 重传整个报文的代价也更大

### 3、分组交换(Packet Switching)

分组交换也采用存储转发技术, 但解决了报文交换中报文过长的问题. 源结点在发生之前, 先把较长的报文分成若干较小的登场数据段, 在每个数据段前面加上一些必要的控制信息(如源地址、目的地址和编号信息等)组成的首部, 构成分组(packet)

源结点将分组发送到分组交换网中, 分组交换网中的分组交换机接收到一个分组之后, 先将其缓存, 然后从其首部中提取目的地址, 据此查找自己的转发表, 然后再将分组转发给下一个分组交换机. 经过多个分组交换机的存储转发后, 分组最终达到目的点

1. 分组交换无连接, 无须建立, 没有建立连接时延, 用户可随时发送分组
2. 分组独立路由
3. 分组大小有上限

**分组交换的问题**

1. 存储转发需要排队, 存在存储转发时延,
2. 携带的额外控制信息会造成开销, 每个小数据段都要加上控制信息构成分组, 这使得传送点信息量大了5%~10%, 进而使得控制复杂, 降低了通信效率, 增大了处理的时延
3. 分组交换网采用数据报的服务时, 会出现失序、丢失或重复分组的情况, 分组到达目的的结点时, 需要对分组按编号进行排序等工作

$$
\text{数据传送效率} = \frac{\text{数据信息长度}}{\text{数据信息长度+控制信息长度}}
$$

<div style="text-align: center;">
    <img src="/images/2024-09-20/image%201.png" width="60%" alt="">
</div>
<div style="text-align: center;">
    <img src="/images/2024-09-20/image%202.png" width="60%" alt="">
</div>
# 协议与网络体系结构

## 协议(Protocol)

网络协议, 简称为协议. 为进行网络中的数据交换而建立的规则、标准、或约定即网络协议

规定了所交换数据格式和有关同步问题

### 协议“三要素”

- **语法**: 数据与控制信息的结构或格式
- **语义**: 需要发出何种控制信息, 完成何种动作以及作出何种响应
- **同步**: 事件实现顺序详细说明

## 两种国际标准

### 1、开放式系统互连模型OSI

**开放式系统互连模型** (OSI, Open Systems Interconnection Model) 是由国际标准化组织 (ISO) 开发的一个参考模型，用于描述网络通信的功能。OSI模型将网络通信过程划分为七个独立的层次，每一层都定义了特定的网络功能。这个分层方法有助于不同网络设备和系统之间的互操作性。以下是OSI模型的七个层次：


<div style="text-align: center;">
    <img src="/images/2024-09-20/image%203.png" width="60%" alt="">
</div>

1. **物理层 (Physical Layer)**: 处理数据的传输和接收，包括电压、电缆、接口等物理媒介的定义。
2. **数据链路层 (Data Link Layer)**: 负责点到点的数据传输，处理错误检测与纠正以及帧的传输。
3. **网络层 (Network Layer)**: 负责数据包的路由和转发，包括逻辑地址（如IP地址）的分配和管理。
4. **传输层 (Transport Layer)**: 提供端到端的通信服务，包括分段、传输控制和流量管理。
5. **会话层 (Session Layer)**: 管理会话控制，负责建立、维护和终止通信会话。
6. **表示层 (Presentation Layer)**: 处理数据的表示和转换，包括数据加密、解密和压缩。
7. **应用层 (Application Layer)**: 提供网络服务直接给用户使用的应用程序接口，如HTTP、FTP、SMTP等协议。

OSI参考模型把对等层次之间传送的数据单元称为该层的协议数据单元 PDU(Protocol Data Unit)

任何两个同样的层次把数据(加上控制信息)通过水平线直接传递给对方. 这就是所谓的“对等层”之间的通讯

实体(entity)表示任何可发送或接收信息的硬件或软件进程

协议(protocol)是控制两个对等实体进行通讯的规则的集合

服务(service)是本层的功能

协议是服务的实现

本层向上一层提供服务

同一系统相邻两层的实体进行交互的地方, 称为服务访问点SAP(Service Access Point)

### 2、TCP/IP体系结构

**TCP/IP体系结构** 是互联网的基础通信协议集，也是目前最广泛使用的网络协议标准。与OSI模型不同，TCP/IP模型只有四个层次，它们对应了网络通信的不同功能。以下是TCP/IP模型的四个层次：

<div style="text-align: center;">
    <img src="/images/2024-09-20/image%204.png" width="40%" alt="">
</div>

1. **网络接口层 (Network Interface Layer)**: 相当于OSI模型的物理层和数据链路层，负责在本地网络上发送和接收数据包。
2. **网络层 (Internet Layer)**: 对应OSI的网络层，主要负责数据包在网络中的路由选择和传输，使用IP协议进行地址管理和数据包转发。
3. **传输层 (Transport Layer)**: 与OSI的传输层相似，负责端到端的通信控制，提供可靠的（如TCP）和不可靠的（如UDP）数据传输服务。
4. **应用层 (Application Layer)**: 涵盖了OSI模型的会话层、表示层和应用层，负责处理应用程序的协议和数据，如HTTP、FTP、DNS等。

### 3、五层体系结构

实际教学中, 我们结合TCP/IP和OSI的优点, 按照五层体系结构进行学习, 这部分内容实际不存在

1. **应用层(Application layer)**
    - 应用层是体系结构中的最高层, 直接为用户的应用进程提供服务
    - 应用层确定进程之间通信的性质以满足用户的需要(这反映在用户所产生的服务请求)
    - 应用层的数据单位是报文
2. **运输层(Transport layer)**
    - 运输层的任务是负责两个进程之间的通信
    - 可使用面向连接的传输控制协议TCP和无连接用户数据报协议UDP
    - 运输层为应用层屏蔽下层的通信细节
    - 运输层所传数据的单位是数据报/报文段
3. **网络层(Network layer)**
    - 网络层负责为互联网上的不同主机提供通信
    - 完成路由选择、拥塞控制和网络互连
    - IP协议是网络互连的关键协议
    - 网络层所传数据的单位是分组/数据报
4. **数据链路层(Data link layer)**
    - 数据链路层的任务是在两个相邻结点间的线路上(不相邻就没有啦)
    - 提供以帧为单位的可靠性护具传输
    - 数据链路层所传的数据单位是帧
5. **物理层 (Physical layer)**
    - 物理层的任务是透明的传送比特流
    - 物理层所传的数据的单位是比特
    - 物理层不是介质层

物理层之下就是介质了, 包含无线、有线、光、电

## 体系结构(Architecture)

计算机网络的体系结构是计算机网络的各层及其协议的集合

体系结构是这个计算机网络及其部件所完成的功能的精确定义

## 划分层次

文件传送模块、通信服务模块、网络接入模块

### 分层的好处与坏处

**好处**

1. 各层之间独立的
2. 灵活性好
3. 结果上可分割开
4. 易于实现和维护
5. 能够促进标准化工作

**坏处**

1. 降低效率
2. 有些功能会在不同层次中重复出现,因而产生了额外开销

# 计算机网络的性能

考2分

## 性能指标

### 1、速率 Speed

速率指的是数据的传送速率, 也称为数据率(data rate)或比特率(bit rate). 单位是 bit/s (比特每秒)

### 2、带宽 Bandwidth

信号具有的频带宽度, 表示某信道允许通过的信号频带范围称为该信道的带宽(通频带), 这里用的是赫兹来衡量

带宽也表示在单位时间内网络中的某信道所能通过的“最高数据率” 也就是用比特每秒来衡量的

### 3、吞吐量 Throughput

单位时间内通过某个网络(或信道、接口)的实际数据量. 吞吐量常用来实际网络的测量中, 受网络带宽的限制

### 4、时延 Delay(必考)

数据(一个报文或分组)从网络到一端传送到另一端所需要的时间

总时延 = 发送时延 + 传播时延 + 处理时延 + 排队时延

- 发送时延(传输时延)

  发送时延是主机或路由器发送数据帧所需要的时间, 也就是从发送数据帧的第一个比特算起, 到该帧的最后一个比特发送完成所需的时间.

  $$
  \text{发送时延}=\frac{\text{数据帧长度}(bit)}{\text{发送速率}(bit/s)}
  $$

- 传播时延

  是电磁波在信道(传输介质)中传播一定距离所需要花费的时间. 一个比特从链路的一段传播到另一端所需的时间

  对于时延发生在机器内部的发送器中, 与传输信道的长度(信号传送的距离)没有关系.

  $$
  \text{传播时延} = \frac{\text{信道长度}(m)}{\text{电磁波在信道上的传播速率}(m/s)}
  $$

- 处理时延

  主机或路由器接收到分组时需要花费一定时间进行处理, 例如分析分组的首部、从分组中提取数据、差错检验或查找合适的路由等

- 排队时延

  分组在经过网络传输时, 在进入路由器后要先在输入队列中排队等待处理, 路由器确定转发端口后, 还要在输出队列中排队等待转发, 这就产生了排队时延


### 5、时延带宽积

发送端发送的第一个比特即将到达终点时, 发送端已发出了多少比特. 又称以比特为单位的链路长度, 即

$$
\text{时延带宽度} = \text{传播时延} \times \text{带宽}
$$

### 6、往返时间 RTT(Round-Trip Times)

互联网信息时双向交互的. 指发送端发出一个短分组, 到发送端接收到来自接收端到确认(接收端接收到数据后立即发送确认)所经历的时延,

$$
\text{有效数据率} = \frac{\text{数据长度}}{\text{发送时间}+RTT}
$$

### 7、利用率

- 信道利用率: 信道的百分之多少的时间时被利用的(有数据通过的)

  $$
  \text{信道利用率} = \frac{\text{有数据通过时间}}{\text{(有+无)数据通过时间}}
  $$

- 网络利用率: 全网络的信道利用率低加权平均

信道利用率并非越高越好, 某信道的利用率增大的时候, 该信道引起的时延也迅速增加